# Soundcraft Ui24 - Virtual Stereo Pair Devices
#
# The Ui24 exposes 32 channels as a single multichannel ALSA device.
# This config creates 16 stereo sinks (output) and 16 stereo sources (input),
# each mapped to a specific channel pair (AUX0/1, AUX2/3, ..., AUX30/31).
#
# Reload: systemctl --user restart pipewire

context.modules = [

    # =====================================================================
    # Output Pairs (Sinks) - Apps play stereo FL/FR -> Soundcraft AUX pairs
    # =====================================================================

    # Pair 1/2 (AUX0/AUX1)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 1/2"
            capture.props = {
                node.name   = "soundcraft_out_pair_01_02"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_01_02_playback"
                audio.position = [ AUX0 AUX1 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 3/4 (AUX2/AUX3)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 3/4"
            capture.props = {
                node.name   = "soundcraft_out_pair_03_04"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_03_04_playback"
                audio.position = [ AUX2 AUX3 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 5/6 (AUX4/AUX5)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 5/6"
            capture.props = {
                node.name   = "soundcraft_out_pair_05_06"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_05_06_playback"
                audio.position = [ AUX4 AUX5 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 7/8 (AUX6/AUX7)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 7/8"
            capture.props = {
                node.name   = "soundcraft_out_pair_07_08"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_07_08_playback"
                audio.position = [ AUX6 AUX7 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 9/10 (AUX8/AUX9)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 9/10"
            capture.props = {
                node.name   = "soundcraft_out_pair_09_10"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_09_10_playback"
                audio.position = [ AUX8 AUX9 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 11/12 (AUX10/AUX11)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 11/12"
            capture.props = {
                node.name   = "soundcraft_out_pair_11_12"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_11_12_playback"
                audio.position = [ AUX10 AUX11 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 13/14 (AUX12/AUX13)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 13/14"
            capture.props = {
                node.name   = "soundcraft_out_pair_13_14"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_13_14_playback"
                audio.position = [ AUX12 AUX13 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 15/16 (AUX14/AUX15)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 15/16"
            capture.props = {
                node.name   = "soundcraft_out_pair_15_16"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_15_16_playback"
                audio.position = [ AUX14 AUX15 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 17/18 (AUX16/AUX17)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 17/18"
            capture.props = {
                node.name   = "soundcraft_out_pair_17_18"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_17_18_playback"
                audio.position = [ AUX16 AUX17 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 19/20 (AUX18/AUX19)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 19/20"
            capture.props = {
                node.name   = "soundcraft_out_pair_19_20"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_19_20_playback"
                audio.position = [ AUX18 AUX19 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 21/22 (AUX20/AUX21)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 21/22"
            capture.props = {
                node.name   = "soundcraft_out_pair_21_22"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_21_22_playback"
                audio.position = [ AUX20 AUX21 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 23/24 (AUX22/AUX23)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 23/24"
            capture.props = {
                node.name   = "soundcraft_out_pair_23_24"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_23_24_playback"
                audio.position = [ AUX22 AUX23 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 25/26 (AUX24/AUX25)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 25/26"
            capture.props = {
                node.name   = "soundcraft_out_pair_25_26"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_25_26_playback"
                audio.position = [ AUX24 AUX25 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 27/28 (AUX26/AUX27)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 27/28"
            capture.props = {
                node.name   = "soundcraft_out_pair_27_28"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_27_28_playback"
                audio.position = [ AUX26 AUX27 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 29/30 (AUX28/AUX29)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 29/30"
            capture.props = {
                node.name   = "soundcraft_out_pair_29_30"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_29_30_playback"
                audio.position = [ AUX28 AUX29 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # Pair 31/32 (AUX30/AUX31)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 31/32"
            capture.props = {
                node.name   = "soundcraft_out_pair_31_32"
                media.class = "Audio/Sink"
                audio.position = [ FL FR ]
            }
            playback.props = {
                node.name   = "soundcraft_out_pair_31_32_playback"
                audio.position = [ AUX30 AUX31 ]
                stream.dont-remix = true
                node.target = "alsa_output.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-output"
                node.passive = true
            }
        }
    }

    # =====================================================================
    # Input Pairs (Sources) - Soundcraft AUX pairs -> stereo FL/FR for apps
    # =====================================================================

    # Pair 1/2 (AUX0/AUX1)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 1/2"
            capture.props = {
                node.name   = "soundcraft_in_pair_01_02_capture"
                audio.position = [ AUX0 AUX1 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_01_02"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 3/4 (AUX2/AUX3)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 3/4"
            capture.props = {
                node.name   = "soundcraft_in_pair_03_04_capture"
                audio.position = [ AUX2 AUX3 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_03_04"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 5/6 (AUX4/AUX5)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 5/6"
            capture.props = {
                node.name   = "soundcraft_in_pair_05_06_capture"
                audio.position = [ AUX4 AUX5 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_05_06"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 7/8 (AUX6/AUX7)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 7/8"
            capture.props = {
                node.name   = "soundcraft_in_pair_07_08_capture"
                audio.position = [ AUX6 AUX7 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_07_08"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 9/10 (AUX8/AUX9)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 9/10"
            capture.props = {
                node.name   = "soundcraft_in_pair_09_10_capture"
                audio.position = [ AUX8 AUX9 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_09_10"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 11/12 (AUX10/AUX11)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 11/12"
            capture.props = {
                node.name   = "soundcraft_in_pair_11_12_capture"
                audio.position = [ AUX10 AUX11 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_11_12"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 13/14 (AUX12/AUX13)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 13/14"
            capture.props = {
                node.name   = "soundcraft_in_pair_13_14_capture"
                audio.position = [ AUX12 AUX13 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_13_14"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 15/16 (AUX14/AUX15)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 15/16"
            capture.props = {
                node.name   = "soundcraft_in_pair_15_16_capture"
                audio.position = [ AUX14 AUX15 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_15_16"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 17/18 (AUX16/AUX17)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 17/18"
            capture.props = {
                node.name   = "soundcraft_in_pair_17_18_capture"
                audio.position = [ AUX16 AUX17 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_17_18"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 19/20 (AUX18/AUX19)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 19/20"
            capture.props = {
                node.name   = "soundcraft_in_pair_19_20_capture"
                audio.position = [ AUX18 AUX19 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_19_20"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 21/22 (AUX20/AUX21)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 21/22"
            capture.props = {
                node.name   = "soundcraft_in_pair_21_22_capture"
                audio.position = [ AUX20 AUX21 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_21_22"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 23/24 (AUX22/AUX23)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 23/24"
            capture.props = {
                node.name   = "soundcraft_in_pair_23_24_capture"
                audio.position = [ AUX22 AUX23 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_23_24"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 25/26 (AUX24/AUX25)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 25/26"
            capture.props = {
                node.name   = "soundcraft_in_pair_25_26_capture"
                audio.position = [ AUX24 AUX25 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_25_26"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 27/28 (AUX26/AUX27)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 27/28"
            capture.props = {
                node.name   = "soundcraft_in_pair_27_28_capture"
                audio.position = [ AUX26 AUX27 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_27_28"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 29/30 (AUX28/AUX29)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 29/30"
            capture.props = {
                node.name   = "soundcraft_in_pair_29_30_capture"
                audio.position = [ AUX28 AUX29 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_29_30"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }

    # Pair 31/32 (AUX30/AUX31)
    {   name = libpipewire-module-loopback
        args = {
            node.description = "Soundcraft Pair 31/32"
            capture.props = {
                node.name   = "soundcraft_in_pair_31_32_capture"
                audio.position = [ AUX30 AUX31 ]
                stream.dont-remix = true
                node.target = "alsa_input.usb-Soundcraft_Soundcraft_Ui24-00.multichannel-input"
                node.passive = true
            }
            playback.props = {
                node.name   = "soundcraft_in_pair_31_32"
                media.class = "Audio/Source"
                audio.position = [ FL FR ]
            }
        }
    }
]
